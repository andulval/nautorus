{"id":"DhVV","dependencies":[{"name":"D:\\_Programowanie\\2023 - Node\\complete-node-bootcamp-master\\4-natours\\starter\\package.json","includedInParent":true,"mtime":1730042805031},{"name":"D:\\_Programowanie\\2023 - Node\\complete-node-bootcamp-master\\4-natours\\starter\\node_modules\\express-mongo-sanitize\\package.json","includedInParent":true,"mtime":1719751935047}],"generated":{"js":"\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}var e=/^\\$|\\./,r=/^\\$/,o=/^\\$|\\./g;function n(e){return\"object\"===t(e)&&null!==e}function u(t){return t?r:e}function i(t,e){!function t(r){Array.isArray(r)?r.forEach(t):n(r)&&Object.keys(r).forEach(function(o){var n=r[o],u=e(r,n,o);u.shouldRecurse&&t(r[u.key||o])})}(t)}function c(t,e){var r=u(e),o=!1;return i(t,function(t,e,n){return r.test(n)?(o=!0,{shouldRecurse:!1}):{shouldRecurse:!0}}),o}function a(t,e){var r=u(e.allowDots),n=!1,c=null,a=Boolean(e.dryRun);return r.test(e.replaceWith)||\".\"===e.replaceWith||(c=e.replaceWith),i(t,function(t,e,u){var i=!0;if(r.test(u)){if(n=!0,a)return{shouldRecurse:i,key:u};delete t[u],c?\"__proto__\"!==(u=u.replace(o,c))&&\"constructor\"!==u&&\"prototype\"!==u&&(t[u]=e):i=!1}return{shouldRecurse:i,key:u}}),{isSanitized:n,target:t}}function f(t){return a(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).target}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=\"function\"==typeof t.onSanitize;return function(r,o,n){[\"body\",\"params\",\"headers\",\"query\"].forEach(function(o){if(r[o]){var n=a(r[o],t),u=n.target,i=n.isSanitized;r[o]=u,i&&e&&t.onSanitize({req:r,key:o})}}),n()}}module.exports=s,module.exports.sanitize=f,module.exports.has=c;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":1,"column":13},"generated":{"line":1,"column":13}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_typeof","original":{"line":1,"column":13},"generated":{"line":1,"column":22}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":24}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_typeof","original":{"line":1,"column":13},"generated":{"line":1,"column":27}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_typeof","original":{"line":1,"column":13},"generated":{"line":1,"column":34}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":36}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":55}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":63}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":80}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"iterator","original":{"line":1,"column":13},"generated":{"line":1,"column":87}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":96}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":105}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":108}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":122}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":125}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":134}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":137}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":144}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":147}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":166}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":174}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"constructor","original":{"line":1,"column":13},"generated":{"line":1,"column":176}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":190}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":198}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Symbol","original":{"line":1,"column":13},"generated":{"line":1,"column":202}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"prototype","original":{"line":1,"column":13},"generated":{"line":1,"column":209}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":219}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":235}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"o","original":{"line":1,"column":13},"generated":{"line":1,"column":239}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":242}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"TEST_REGEX","original":{"line":3,"column":6},"generated":{"line":1,"column":246}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":3,"column":19},"generated":{"line":1,"column":248}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"TEST_REGEX_WITHOUT_DOT","original":{"line":4,"column":6},"generated":{"line":1,"column":257}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":4,"column":31},"generated":{"line":1,"column":259}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"REPLACE_REGEX","original":{"line":5,"column":6},"generated":{"line":1,"column":265}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":5,"column":22},"generated":{"line":1,"column":267}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":277}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isPlainObject","original":{"line":7,"column":9},"generated":{"line":1,"column":286}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":7,"column":23},"generated":{"line":1,"column":288}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":8,"column":2},"generated":{"line":1,"column":291}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":8,"column":24},"generated":{"line":1,"column":297}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_typeof","original":{"line":8,"column":9},"generated":{"line":1,"column":308}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":8,"column":16},"generated":{"line":1,"column":310}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":8,"column":44},"generated":{"line":1,"column":314}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":8,"column":36},"generated":{"line":1,"column":321}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":323}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"getTestRegex","original":{"line":11,"column":9},"generated":{"line":1,"column":332}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"allowDots","original":{"line":11,"column":22},"generated":{"line":1,"column":334}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":337}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"allowDots","original":{"line":12,"column":9},"generated":{"line":1,"column":344}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"TEST_REGEX_WITHOUT_DOT","original":{"line":12,"column":21},"generated":{"line":1,"column":346}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"TEST_REGEX","original":{"line":12,"column":46},"generated":{"line":1,"column":348}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":350}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"withEach","original":{"line":15,"column":9},"generated":{"line":1,"column":359}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":15,"column":18},"generated":{"line":1,"column":361}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"cb","original":{"line":15,"column":26},"generated":{"line":1,"column":363}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":16,"column":2},"generated":{"line":1,"column":367}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"act","original":{"line":16,"column":12},"generated":{"line":1,"column":376}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":16,"column":16},"generated":{"line":1,"column":378}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Array","original":{"line":17,"column":8},"generated":{"line":1,"column":381}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isArray","original":{"line":17,"column":14},"generated":{"line":1,"column":387}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":17,"column":22},"generated":{"line":1,"column":395}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":18,"column":6},"generated":{"line":1,"column":398}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"forEach","original":{"line":18,"column":10},"generated":{"line":1,"column":400}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"act","original":{"line":18,"column":18},"generated":{"line":1,"column":408}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isPlainObject","original":{"line":19,"column":15},"generated":{"line":1,"column":411}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":19,"column":29},"generated":{"line":1,"column":413}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Object","original":{"line":20,"column":6},"generated":{"line":1,"column":417}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"keys","original":{"line":20,"column":13},"generated":{"line":1,"column":424}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":20,"column":18},"generated":{"line":1,"column":429}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"forEach","original":{"line":20,"column":23},"generated":{"line":1,"column":432}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":20,"column":31},"generated":{"line":1,"column":440}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":20,"column":41},"generated":{"line":1,"column":449}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":21,"column":8},"generated":{"line":1,"column":452}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"val","original":{"line":21,"column":14},"generated":{"line":1,"column":456}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":21,"column":20},"generated":{"line":1,"column":458}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":21,"column":24},"generated":{"line":1,"column":460}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"resp","original":{"line":22,"column":14},"generated":{"line":1,"column":463}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"cb","original":{"line":22,"column":21},"generated":{"line":1,"column":465}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":22,"column":24},"generated":{"line":1,"column":467}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"val","original":{"line":22,"column":29},"generated":{"line":1,"column":469}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":22,"column":34},"generated":{"line":1,"column":471}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"resp","original":{"line":23,"column":12},"generated":{"line":1,"column":474}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":23,"column":17},"generated":{"line":1,"column":476}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"act","original":{"line":24,"column":10},"generated":{"line":1,"column":491}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":24,"column":14},"generated":{"line":1,"column":493}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"resp","original":{"line":24,"column":18},"generated":{"line":1,"column":495}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":24,"column":23},"generated":{"line":1,"column":497}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":24,"column":30},"generated":{"line":1,"column":502}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":16,"column":2},"generated":{"line":1,"column":508}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":28,"column":5},"generated":{"line":1,"column":509}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":512}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"has","original":{"line":31,"column":9},"generated":{"line":1,"column":521}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":31,"column":13},"generated":{"line":1,"column":523}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"allowDots","original":{"line":31,"column":21},"generated":{"line":1,"column":525}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":32,"column":2},"generated":{"line":1,"column":528}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"regex","original":{"line":32,"column":8},"generated":{"line":1,"column":532}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"getTestRegex","original":{"line":32,"column":16},"generated":{"line":1,"column":534}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"allowDots","original":{"line":32,"column":29},"generated":{"line":1,"column":536}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"hasProhibited","original":{"line":34,"column":6},"generated":{"line":1,"column":539}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":34,"column":22},"generated":{"line":1,"column":542}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":44,"column":2},"generated":{"line":1,"column":544}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"withEach","original":{"line":35,"column":2},"generated":{"line":1,"column":551}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":35,"column":11},"generated":{"line":1,"column":553}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":35,"column":19},"generated":{"line":1,"column":555}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":35,"column":29},"generated":{"line":1,"column":564}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"val","original":{"line":35,"column":34},"generated":{"line":1,"column":566}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":35,"column":39},"generated":{"line":1,"column":568}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":36,"column":4},"generated":{"line":1,"column":571}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"regex","original":{"line":36,"column":8},"generated":{"line":1,"column":578}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"test","original":{"line":36,"column":14},"generated":{"line":1,"column":580}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":36,"column":19},"generated":{"line":1,"column":585}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"hasProhibited","original":{"line":37,"column":6},"generated":{"line":1,"column":589}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":37,"column":22},"generated":{"line":1,"column":592}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":38,"column":13},"generated":{"line":1,"column":594}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":38,"column":15},"generated":{"line":1,"column":595}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":38,"column":30},"generated":{"line":1,"column":610}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":40,"column":13},"generated":{"line":1,"column":614}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":40,"column":15},"generated":{"line":1,"column":615}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":40,"column":30},"generated":{"line":1,"column":630}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"hasProhibited","original":{"line":44,"column":9},"generated":{"line":1,"column":635}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":637}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_sanitize","original":{"line":47,"column":9},"generated":{"line":1,"column":646}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":47,"column":19},"generated":{"line":1,"column":648}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":47,"column":27},"generated":{"line":1,"column":650}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":48,"column":2},"generated":{"line":1,"column":653}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"regex","original":{"line":48,"column":8},"generated":{"line":1,"column":657}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"getTestRegex","original":{"line":48,"column":16},"generated":{"line":1,"column":659}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":48,"column":29},"generated":{"line":1,"column":661}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"allowDots","original":{"line":48,"column":37},"generated":{"line":1,"column":663}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":50,"column":6},"generated":{"line":1,"column":674}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":50,"column":20},"generated":{"line":1,"column":677}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":51,"column":6},"generated":{"line":1,"column":679}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":51,"column":20},"generated":{"line":1,"column":681}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"dryRun","original":{"line":52,"column":8},"generated":{"line":1,"column":686}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"Boolean","original":{"line":52,"column":17},"generated":{"line":1,"column":688}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":52,"column":25},"generated":{"line":1,"column":696}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"dryRun","original":{"line":52,"column":33},"generated":{"line":1,"column":698}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":93,"column":2},"generated":{"line":1,"column":706}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"regex","original":{"line":53,"column":7},"generated":{"line":1,"column":713}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"test","original":{"line":53,"column":13},"generated":{"line":1,"column":715}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":53,"column":18},"generated":{"line":1,"column":720}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":53,"column":26},"generated":{"line":1,"column":722}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":53,"column":66},"generated":{"line":1,"column":736}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":53,"column":42},"generated":{"line":1,"column":742}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":53,"column":50},"generated":{"line":1,"column":744}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":54,"column":4},"generated":{"line":1,"column":758}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":54,"column":18},"generated":{"line":1,"column":760}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":54,"column":26},"generated":{"line":1,"column":762}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"withEach","original":{"line":57,"column":2},"generated":{"line":1,"column":775}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":57,"column":11},"generated":{"line":1,"column":777}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":57,"column":19},"generated":{"line":1,"column":779}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":57,"column":29},"generated":{"line":1,"column":788}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"val","original":{"line":57,"column":34},"generated":{"line":1,"column":790}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":57,"column":39},"generated":{"line":1,"column":792}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":58,"column":4},"generated":{"line":1,"column":795}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":58,"column":8},"generated":{"line":1,"column":799}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":58,"column":24},"generated":{"line":1,"column":802}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":60,"column":4},"generated":{"line":1,"column":804}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"regex","original":{"line":60,"column":8},"generated":{"line":1,"column":807}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"test","original":{"line":60,"column":14},"generated":{"line":1,"column":809}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":60,"column":19},"generated":{"line":1,"column":814}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":60,"column":25},"generated":{"line":1,"column":817}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":63,"column":6},"generated":{"line":1,"column":818}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":61,"column":6},"generated":{"line":1,"column":821}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":61,"column":20},"generated":{"line":1,"column":824}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"dryRun","original":{"line":63,"column":10},"generated":{"line":1,"column":826}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":64,"column":8},"generated":{"line":1,"column":828}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":64,"column":15},"generated":{"line":1,"column":834}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":65,"column":10},"generated":{"line":1,"column":835}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":65,"column":25},"generated":{"line":1,"column":849}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":66,"column":10},"generated":{"line":1,"column":851}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":66,"column":15},"generated":{"line":1,"column":855}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":69,"column":13},"generated":{"line":1,"column":865}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":69,"column":17},"generated":{"line":1,"column":867}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":70,"column":10},"generated":{"line":1,"column":870}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":76,"column":18},"generated":{"line":1,"column":872}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":71,"column":8},"generated":{"line":1,"column":887}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":71,"column":14},"generated":{"line":1,"column":889}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replace","original":{"line":71,"column":18},"generated":{"line":1,"column":891}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"REPLACE_REGEX","original":{"line":71,"column":26},"generated":{"line":1,"column":899}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"replaceWith","original":{"line":71,"column":41},"generated":{"line":1,"column":901}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":77,"column":18},"generated":{"line":1,"column":906}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":77,"column":10},"generated":{"line":1,"column":922}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":78,"column":18},"generated":{"line":1,"column":925}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":78,"column":10},"generated":{"line":1,"column":939}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"obj","original":{"line":80,"column":10},"generated":{"line":1,"column":943}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":80,"column":14},"generated":{"line":1,"column":945}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"val","original":{"line":80,"column":21},"generated":{"line":1,"column":948}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":83,"column":8},"generated":{"line":1,"column":951}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":83,"column":24},"generated":{"line":1,"column":954}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":87,"column":4},"generated":{"line":1,"column":956}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":87,"column":11},"generated":{"line":1,"column":962}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":88,"column":6},"generated":{"line":1,"column":963}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"shouldRecurse","original":{"line":88,"column":21},"generated":{"line":1,"column":977}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":89,"column":6},"generated":{"line":1,"column":979}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":89,"column":11},"generated":{"line":1,"column":983}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":93,"column":9},"generated":{"line":1,"column":988}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":94,"column":4},"generated":{"line":1,"column":989}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":94,"column":4},"generated":{"line":1,"column":1001}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":95,"column":4},"generated":{"line":1,"column":1003}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":95,"column":4},"generated":{"line":1,"column":1010}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1013}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"sanitize","original":{"line":99,"column":9},"generated":{"line":1,"column":1022}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":99,"column":18},"generated":{"line":1,"column":1024}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":100,"column":2},"generated":{"line":1,"column":1027}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_sanitize","original":{"line":100,"column":9},"generated":{"line":1,"column":1034}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":100,"column":19},"generated":{"line":1,"column":1036}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":99,"column":33},"generated":{"line":1,"column":1038}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"length","original":{"line":99,"column":33},"generated":{"line":1,"column":1048}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":99,"column":33},"generated":{"line":1,"column":1055}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"undefined","original":{"line":99,"column":33},"generated":{"line":1,"column":1063}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":99,"column":33},"generated":{"line":1,"column":1067}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"undefined","original":{"line":99,"column":33},"generated":{"line":1,"column":1077}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":99,"column":33},"generated":{"line":1,"column":1080}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":99,"column":36},"generated":{"line":1,"column":1090}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":99,"column":36},"generated":{"line":1,"column":1093}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":100,"column":36},"generated":{"line":1,"column":1097}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1104}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"middleware","original":{"line":107,"column":9},"generated":{"line":1,"column":1113}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":107,"column":34},"generated":{"line":1,"column":1117}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":107,"column":20},"generated":{"line":1,"column":1121}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":107,"column":27},"generated":{"line":1,"column":1123}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"length","original":{"line":107,"column":27},"generated":{"line":1,"column":1133}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":107,"column":27},"generated":{"line":1,"column":1140}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"undefined","original":{"line":107,"column":27},"generated":{"line":1,"column":1148}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":107,"column":27},"generated":{"line":1,"column":1152}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"undefined","original":{"line":107,"column":27},"generated":{"line":1,"column":1162}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"arguments","original":{"line":107,"column":27},"generated":{"line":1,"column":1165}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":107,"column":30},"generated":{"line":1,"column":1175}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":107,"column":30},"generated":{"line":1,"column":1178}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"hasOnSanitize","original":{"line":108,"column":8},"generated":{"line":1,"column":1181}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":108,"column":54},"generated":{"line":1,"column":1183}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":108,"column":31},"generated":{"line":1,"column":1202}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"onSanitize","original":{"line":108,"column":39},"generated":{"line":1,"column":1204}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":109,"column":2},"generated":{"line":1,"column":1215}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":109,"column":9},"generated":{"line":1,"column":1222}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"req","original":{"line":109,"column":19},"generated":{"line":1,"column":1231}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"res","original":{"line":109,"column":24},"generated":{"line":1,"column":1233}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"next","original":{"line":109,"column":29},"generated":{"line":1,"column":1235}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":110,"column":4},"generated":{"line":1,"column":1238}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":110,"column":5},"generated":{"line":1,"column":1239}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":110,"column":13},"generated":{"line":1,"column":1246}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":110,"column":23},"generated":{"line":1,"column":1255}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":110,"column":34},"generated":{"line":1,"column":1265}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"forEach","original":{"line":110,"column":43},"generated":{"line":1,"column":1274}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":110,"column":51},"generated":{"line":1,"column":1282}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":110,"column":61},"generated":{"line":1,"column":1291}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":111,"column":6},"generated":{"line":1,"column":1294}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"req","original":{"line":111,"column":10},"generated":{"line":1,"column":1297}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":111,"column":14},"generated":{"line":1,"column":1299}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":111,"column":20},"generated":{"line":1,"column":1302}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":112,"column":8},"generated":{"line":1,"column":1303}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_sanitize2","original":{"line":112,"column":8},"generated":{"line":1,"column":1307}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_sanitize","original":{"line":112,"column":40},"generated":{"line":1,"column":1309}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"req","original":{"line":112,"column":50},"generated":{"line":1,"column":1311}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":112,"column":54},"generated":{"line":1,"column":1313}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":112,"column":60},"generated":{"line":1,"column":1316}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":112,"column":16},"generated":{"line":1,"column":1319}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_sanitize2","original":{"line":112,"column":22},"generated":{"line":1,"column":1321}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":112,"column":16},"generated":{"line":1,"column":1323}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":112,"column":24},"generated":{"line":1,"column":1330}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"_sanitize2","original":{"line":112,"column":35},"generated":{"line":1,"column":1332}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":112,"column":24},"generated":{"line":1,"column":1334}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"req","original":{"line":113,"column":8},"generated":{"line":1,"column":1346}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":113,"column":12},"generated":{"line":1,"column":1348}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"target","original":{"line":113,"column":19},"generated":{"line":1,"column":1351}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"isSanitized","original":{"line":114,"column":12},"generated":{"line":1,"column":1353}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"hasOnSanitize","original":{"line":114,"column":27},"generated":{"line":1,"column":1356}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"options","original":{"line":115,"column":10},"generated":{"line":1,"column":1359}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"onSanitize","original":{"line":115,"column":18},"generated":{"line":1,"column":1361}},{"source":"node_modules/express-mongo-sanitize/index.js","original":{"line":115,"column":29},"generated":{"line":1,"column":1372}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"req","original":{"line":116,"column":12},"generated":{"line":1,"column":1373}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"req","original":{"line":116,"column":12},"generated":{"line":1,"column":1377}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":117,"column":12},"generated":{"line":1,"column":1379}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"key","original":{"line":117,"column":12},"generated":{"line":1,"column":1383}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"next","original":{"line":122,"column":4},"generated":{"line":1,"column":1390}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"module","original":{"line":126,"column":0},"generated":{"line":1,"column":1395}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"exports","original":{"line":126,"column":7},"generated":{"line":1,"column":1402}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"middleware","original":{"line":126,"column":17},"generated":{"line":1,"column":1410}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"module","original":{"line":127,"column":0},"generated":{"line":1,"column":1412}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"exports","original":{"line":127,"column":7},"generated":{"line":1,"column":1419}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"sanitize","original":{"line":127,"column":15},"generated":{"line":1,"column":1427}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"sanitize","original":{"line":127,"column":26},"generated":{"line":1,"column":1436}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"module","original":{"line":128,"column":0},"generated":{"line":1,"column":1438}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"exports","original":{"line":128,"column":7},"generated":{"line":1,"column":1445}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"has","original":{"line":128,"column":15},"generated":{"line":1,"column":1453}},{"source":"node_modules/express-mongo-sanitize/index.js","name":"has","original":{"line":128,"column":21},"generated":{"line":1,"column":1457}}],"sources":{"node_modules/express-mongo-sanitize/index.js":"'use strict';\n\nconst TEST_REGEX = /^\\$|\\./;\nconst TEST_REGEX_WITHOUT_DOT = /^\\$/;\nconst REPLACE_REGEX = /^\\$|\\./g;\n\nfunction isPlainObject(obj) {\n  return typeof obj === 'object' && obj !== null;\n}\n\nfunction getTestRegex(allowDots) {\n  return allowDots ? TEST_REGEX_WITHOUT_DOT : TEST_REGEX;\n}\n\nfunction withEach(target, cb) {\n  (function act(obj) {\n    if (Array.isArray(obj)) {\n      obj.forEach(act);\n    } else if (isPlainObject(obj)) {\n      Object.keys(obj).forEach(function (key) {\n        const val = obj[key];\n        const resp = cb(obj, val, key);\n        if (resp.shouldRecurse) {\n          act(obj[resp.key || key]);\n        }\n      });\n    }\n  })(target);\n}\n\nfunction has(target, allowDots) {\n  const regex = getTestRegex(allowDots);\n\n  let hasProhibited = false;\n  withEach(target, function (obj, val, key) {\n    if (regex.test(key)) {\n      hasProhibited = true;\n      return { shouldRecurse: false };\n    } else {\n      return { shouldRecurse: true };\n    }\n  });\n\n  return hasProhibited;\n}\n\nfunction _sanitize(target, options) {\n  const regex = getTestRegex(options.allowDots);\n\n  let isSanitized = false;\n  let replaceWith = null;\n  const dryRun = Boolean(options.dryRun);\n  if (!regex.test(options.replaceWith) && options.replaceWith !== '.') {\n    replaceWith = options.replaceWith;\n  }\n\n  withEach(target, function (obj, val, key) {\n    let shouldRecurse = true;\n\n    if (regex.test(key)) {\n      isSanitized = true;\n      // if dryRun is enabled, do not modify the target\n      if (dryRun) {\n        return {\n          shouldRecurse: shouldRecurse,\n          key: key,\n        };\n      }\n      delete obj[key];\n      if (replaceWith) {\n        key = key.replace(REPLACE_REGEX, replaceWith);\n        // Avoid to set __proto__ and constructor.prototype\n        // https://portswigger.net/daily-swig/prototype-pollution-the-dangerous-and-underrated-vulnerability-impacting-javascript-applications\n        // https://snyk.io/vuln/SNYK-JS-LODASH-73638\n        if (\n          key !== '__proto__' &&\n          key !== 'constructor' &&\n          key !== 'prototype'\n        ) {\n          obj[key] = val;\n        }\n      } else {\n        shouldRecurse = false;\n      }\n    }\n\n    return {\n      shouldRecurse: shouldRecurse,\n      key: key,\n    };\n  });\n\n  return {\n    isSanitized,\n    target,\n  };\n}\n\nfunction sanitize(target, options = {}) {\n  return _sanitize(target, options).target;\n}\n\n/**\n * @param {{replaceWith?: string, onSanitize?: function, dryRun?: boolean}} options\n * @returns {function}\n */\nfunction middleware(options = {}) {\n  const hasOnSanitize = typeof options.onSanitize === 'function';\n  return function (req, res, next) {\n    ['body', 'params', 'headers', 'query'].forEach(function (key) {\n      if (req[key]) {\n        const { target, isSanitized } = _sanitize(req[key], options);\n        req[key] = target;\n        if (isSanitized && hasOnSanitize) {\n          options.onSanitize({\n            req,\n            key,\n          });\n        }\n      }\n    });\n    next();\n  };\n}\n\nmodule.exports = middleware;\nmodule.exports.sanitize = sanitize;\nmodule.exports.has = has;\n"},"lineCount":null}},"error":null,"hash":"f5d1369912f178f4669040afebab5ad1","cacheData":{"env":{}}}